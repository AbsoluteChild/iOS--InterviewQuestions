# iOS--InterviewQuestions

### 目录：
### [《iOS基础篇~每日十题之第4️⃣天》](https://github.com/liyuunxiangGit/iOS--InterviewQuestions/edit/master/iOS面试题--每日十题汇总/面试题--基础篇/02--《iOS基础篇~每日十题之第2%EF%B8%8F⃣天》.md)
[①、What is lazy loading?](https://github.com/liyuunxiangGit/iOS--InterviewQuestions/blob/master/iOS面试题--每日十题汇总/面试题--基础篇/02--《iOS基础篇~每日十题之第2%EF%B8%8F⃣天》.md#1%EF%B8%8F⃣-what-is-lazy-loading)
<br>
[②、 沙盒](https://github.com/liyuunxiangGit/iOS--InterviewQuestions/blob/master/iOS面试题--每日十题汇总/面试题--基础篇/02--《iOS基础篇~每日十题之第2%EF%B8%8F⃣天》.md#2%EF%B8%8F⃣-沙盒)<br>

<br><hr><br>

### 1️⃣ NSTimer创建后，会在哪个线程运行。
----
* 用scheduledTimerWithTimeInterval创建的，在哪个线程创建就会被加入哪个线程的RunLoop中就运行在哪个线程
* 自己创建的Timer，加入到哪个线程的RunLoop中就运行在哪个线程。

### 2️⃣ id和NSObject＊的区别
----

* id是一个objc_object 结构体指针，定义是typedef structobjc_object *id
* id可以理解为指向对象的指针。所有oc的对象id都可以指向，编译器不会做类型检查，id调用任何存在的方法都不会在编译阶段报错，当然如果这个id指向的对象没有这个方法，该崩溃还是会崩溃的。
* NSObject *指向的必须是NSObject的子类，调用的也只能是NSObjec里面的方法否则就要做强制类型转换。
* 不是所有的OC对象都是NSObject的子类，还有一些继承自NSProxy。NSObject *可指向的类型是id的子集。

### 3️⃣ ​写一个标准宏MIN,这个宏输入两个参数并返回较小的一个.
-----
`#define MIN(A,B) (A)>(B)?(B):(A)`

### 4️⃣ 什么是dSYM文件
-----
#### 当XCODE编译项目然后打包以后，在app旁会看见一个同名的dSYM文件。该文件就是当release的版本crash的时候，通过友盟查看会有一个日志文件，包含出错的内存地址等，使用终端能够把日志和dYSM文件转换成可以阅读的log信息，也就是将内存地址转换成程序里的函数或变量的所属于的文件名。






### 5️⃣ TCP连接的三次握手
-----
* 第一次握手：客户端发送syn包（syn=j）到服务器，并进入SYN_SEND状态，等待服务器确认；
* 第二次握手：服务器收到syn包，必须确认客户的SYN（ack=j+1），同时自己也发送一个SYN包，即SYN+ACK包，此时服务器进入SYN+RECV状态；
* 第三次握手：客户端收到服务器的SYN+ACK包，向服务器发送确认包ACK（ack=k+1），此发送完毕，客户端和服务器进入ESTABLISHED状态，完成三次状态。




### 6️⃣ HTTP协议的特点，关于HTTP请求GET和POST的区别
-----
#### GET和POST的区别：
* HTTP超文本传输协议，是短连接，是客户端主动发送请求，服务器做出响应，服务器响应之后，链接断开。HTTP是一个属于应用层面向对象的协议，HTTP有两类报文：请求报文和响应报文。
* HTTP请求报文：一个HTTP请求报文由请求行、请求头部、空行和请求数据4部分组成。
* HTTP响应报文：由三部分组成：状态行、消息报头、响应正文。
* GET请求：参数在地址后拼接，没有请求数据，不安全（因为所有参数都拼接在地址后面），不适合传输大量数据（长度有限制，为1024个字节）。
`GET提交、请求的数据会附在URL之后，即把数据放置在HTTP协议头中。
以？分割URL和传输数据，多个参数用&连接。如果数据是英文字母或数字，原样发送，
如果是空格，转换为+，如果是中文/其他字符，则直接把字符串用BASE64加密。`
* POST请求：参数在请求数据区放着，相对GET请求更安全，并且数据大小没有限制。把提交的数据放置在HTTP包的包体中.
* GET提交的数据会在地址栏显示出来，而POST提交，地址栏不会改变。
#### 传输数据的大小：
* GET提交时，传输数据就会受到URL长度限制，POST由于不是通过URL传值，理论上书不受限。
#### 安全性：
* POST的安全性要比GET的安全性高；
* 通过GET提交数据，用户名和密码将明文出现在URL上，比如登陆界面有可能被浏览器缓存。
* HTTPS：安全超文本传输协议（Secure Hypertext Transfer Protocol），它是一个安全通信通道，基于HTTP开发，用于客户计算机和服务器之间交换信息，使用安全套结字层（SSI）进行信息交换，即HTTP的安全版。

### 7️⃣ XML数据解析方式各有什么不同，JSON解析有哪些框架？
-----
* XML数据解析的两种解析方式：DOM解析和SAX解析；
* DOM解析必须完成DOM树的构造，在处理规模较大的XML文档时就很耗内存，占用资源较多，读入整个XML文档并构建一个驻留内存的树结构（节点树），通过遍历树结构可以检索任意XML节点，读取它的属性和值，通常情况下，可以借助XPath查询XML节点；
* SAX与DOM不同，它是事件驱动模型，解析XML文档时每遇到一个开始或者结束标签、属性或者一条指令时，程序就产生一个事件进行相应的处理，一边读取XML文档一边处理，不必等整个文档加载完才采取措施，当在读取解析过程中遇到需要处理的对象，会发出通知进行处理。因此，SAX相对于DOM来说更适合操作大的XML文档。
* JSON解析：性能比较好的主要是第三方的JSONKIT和iOS自带的JSON解析类，其中自带的JSON解析性能最高，但只能用于iOS5之后。

### 8️⃣ 如何应对APP版本升级，数据结构随之变化?
-----
如果是移动端, 视数据的重要性来定, 如果不重要, 那就忽视它. 如果重要, 就要额外做一个检查Documents(我这里假设你的数据文件放在Documents下)下的数据文件, 如果存在, 就SQL导出再加上按照新的数据结构导入到新的数据文件. 也就是两句SQL的事, 在升级后第一次进入应用的时候做这个事.
 
如果是服务端, 正常情况还是需要做接口层(当然, 我也遇到没做接口层, 直接远程数据库操作的, 对这种, 我无话可说), 接口层的变动幅度, 往往没有数据层的变动大, 有时候, 哪怕数据结构变化了, 但接口层还是一样. 如果是碰到数据层变化逼迫接口层变化的情况, 那就需要保留老接口的同时, 提供新接口服务, 直到使用老接口的app保有量低到一定程度, 再关闭老接口. 我的产品接口, 是在接口中加上一个v(version)参数作为版本判断标志.

### 9️⃣ block底层实现
-----
block本质是指向一个结构体的一个指针
运行时机制 比较高级的特性 纯C语言
平时写的OC代码 转换成C语言运行时的代码
指令:clang -rewrite-objc  main.m(可以打印验证)
默认情况下,任何block都是在栈里面的,随时可能被回收
只要对其做一次copy操作 block的内存就会放在堆里面 不会释放
只有copy才能产生一个新的内存地址 所有地址会发生改变
### 🔟 如何重写类方法
-----
* 1、在子类中实现一个同基类名字一样的静态方法
* 2、在调用的时候不要使用类名调用，而是使用[self class]的方式调用。原理，用类名调用是早绑定，在编译期绑定，用[self class]是晚绑定，在运行时决定调用哪个方法。
